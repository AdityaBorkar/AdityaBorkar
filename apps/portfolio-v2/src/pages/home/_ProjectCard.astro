---
import type { InferEntrySchema } from 'astro:content';
import Image from 'astro/components/Image.astro';
import { getImage } from '@/lib/assets';

interface Props extends InferEntrySchema<'projects'> {
	slug: string;
}

const { slug, title, description, hero_image } = Astro.props;
---

<a
    href={`/projects/${slug}`}
    class:list={[
        "rounded-2xl border border-border/10 bg-bg-primary pl-4 pr-2 py-2",
        "md:px-8 md:py-6 max-md:grid max-md:grid-cols-2 max-md:gap-4",
    ]}
>
    <div>
        <div
            class:list={[
                "text-lg font-semibold text-text-primary",
                "max-md:my-2 md:text-xl",
            ]}
        >
            {title}
        </div>
        <p
            class:list={[
                "mt-1 text-xs text-text-tertiary line-clamp-3",
                "md:mt-2 md:text-sm",
            ]}
        >
            {description}
        </p>
    </div>
    <Image
        src={getImage("illustrations/laptop-with-notes.png")}
        alt=""
        class:list={[
            "mx-auto bg-background rounded-xl block h-36 w-full object-cover",
            "md:mt-4 md:h-72",
        ]}
    />
    <!-- image slideshow - preview, stats, preview. -->
</a>

<script>
    // TODO: add cursor highlight effect
    // const elements = document.querySelectorAll(".shiny-backdrop-effect");
    // console.log(elements);
    // elements.forEach((element) => {
    //     element.addEventListener("mousemove", (e) => {
    //         const { x, y } = element.getBoundingClientRect();
    //         // @ts-expect-error
    //         element.style.setProperty("--x", e.clientX - x);
    //         // @ts-expect-error
    //         element.style.setProperty("--y", e.clientY - y);
    //     });
    // });
</script>
