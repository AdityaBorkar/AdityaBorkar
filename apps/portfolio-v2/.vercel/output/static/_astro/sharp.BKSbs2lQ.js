import{b as r,p as c,_ as p,A as m,M as g}from"./chat.B44fAS5q.js";import"./proxy.DOmoDFH-.js";import"./resolve-elements.BEDzqB3N.js";import"./index.D77fipY7.js";import"./lenis.CiXhrsOk.js";import"./path.DLVMAorX.js";/* empty css                       */let l;const f={low:25,mid:50,high:80,max:100};async function w(){let i;try{i=(await p(async()=>{const{default:o}=await import("./index.C4bLmP5p.js").then(s=>s.i);return{default:o}},[])).default}catch{throw new m(g)}return i.cache(!1),i}const v={fill:"fill",contain:"inside",cover:"cover",none:"outside","scale-down":"inside",outside:"outside",inside:"inside"},_={validateOptions:r.validateOptions,getURL:r.getURL,parseURL:r.parseURL,getHTMLAttributes:r.getHTMLAttributes,getSrcSet:r.getSrcSet,async transform(i,o,s){l||(l=await w());const t=o;if(t.format==="svg")return{data:i,format:"svg"};const e=l(i,{failOnError:!1,pages:-1,limitInputPixels:s.service.config.limitInputPixels});e.rotate();const n=!!t.fit;if(t.width&&t.height&&t.fit){const a=v[t.fit]??"inside";e.resize({width:Math.round(t.width),height:Math.round(t.height),fit:a,position:t.position,withoutEnlargement:n})}else t.height&&!t.width?e.resize({height:Math.round(t.height),withoutEnlargement:n}):t.width&&e.resize({width:Math.round(t.width),withoutEnlargement:n});if(t.format){let a;if(t.quality){const d=c(t.quality);typeof d=="number"?a=d:a=t.quality in f?f[t.quality]:void 0}e.toFormat(t.format,{quality:a})}const{data:h,info:u}=await e.toBuffer({resolveWithObject:!0});return{data:h,format:u.format}}};var E=_;export{E as default};
